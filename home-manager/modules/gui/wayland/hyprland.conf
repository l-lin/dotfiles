# Documentation: https://wiki.hyprland.org/Configuring/Configuring-Hyprland/
#
# Default values: https://github.com/hyprwm/Hyprland/blob/main/example/hyprland.conf
#
# Some examples:
# - https://github.com/hyper-dot/Arch-Hyprland/blob/main/.config/hypr/window_rules.conf
# - https://github.com/chadcat7/crystal/blob/main/home/namish/conf/ui/hyprland/default.nix
# - https://github.com/notusknot/dotfiles-nix/blob/main/modules/hyprland/hyprland.conf
# - https://gitlab.com/librephoenix/nixos-config/-/blob/main/user/wm/hyprland/hyprland.nix
# - https://gitlab.com/hmajid2301/dotfiles/-/tree/main/modules/home/desktops/hyprland

$mainMod = SUPER
$terminal = alacritty

########################################### AUTOSTART #######################################

#exec-once=swaybg -i $NIXOS_CONFIG_DIR/pics/wallpaper.png
exec-once=alacritty
#exec-once=wlsunset -l -23 -L -46
#exec-once=eww daemon
#exec-once=eww open bar
#exec-once=dunst

########################################### DEVICES #######################################

# See https://wiki.hyprland.org/Configuring/Monitors/
monitor=,1600x900@60,0x0,1

# mouse and keyboard
input {
  kb_layout = us
  kb_variant = altgr-intl
  kb_model =
  kb_options = ctrl:nocaps
  kb_rules =
  follow_mouse = 1 # 0|1|2|3
  float_switch_override_focus = 2
  numlock_by_default = true

  touchpad {
    natural_scroll = yes
  }
}

# touchpad
# See: https://wiki.hyprland.org/Configuring/Variables/
gestures {
  workspace_swipe = true
  workspace_swipe_fingers = 3
  workspace_swipe_distance = 250
  workspace_swipe_invert = true
  workspace_swipe_min_speed_to_force = 15
  workspace_swipe_cancel_ratio = 0.5
  workspace_swipe_create_new = true
}

########################################### DECORATIONS #######################################

general {
  sensitivity=1

  gaps_in=10
  gaps_out=10
  border_size=2
  col.active_border=rgba(ffffffff)
  col.inactive_border=rgba(12, 12, 12, 0.5)

  no_border_on_floating = false
  layout = dwindle
}

decoration {
  rounding = 8

  active_opacity = 1.0
  inactive_opacity = 0.8
  fullscreen_opacity = 1.0

  # https://wiki.hyprland.org/Configuring/Performance/#how-do-i-make-hyprland-draw-as-little-power-as-possible-on-my-laptop
  #blur = false
  drop_shadow=false

  shadow_range=60
  col.shadow=0x66000000
}

animations {
  enabled = true

  bezier = overshot, 0.05, 0.9, 0.1, 1.05
  bezier = smoothOut, 0.36, 0, 0.66, -0.56
  bezier = smoothIn, 0.25, 1, 0.5, 1

  animation = windows, 1, 3, overshot, slide
  animation = windowsOut, 1, 3, smoothOut, slide
  animation = windowsMove, 1, 3, default
  animation = border, 1, 3, default
  animation = fade, 1, 3, smoothIn
  animation = fadeDim, 1, 3, smoothIn
  animation = workspaces, 1, 3, default
}

# layout
dwindle {
  pseudotile = true # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
  preserve_split = true # you probably want this
}

# See: https://wiki.hyprland.org/Configuring/Master-Layout/
master {
    new_is_master = true
}

misc {
  disable_autoreload = true
  disable_hyprland_logo = true
  always_follow_on_dnd = true
  layers_hog_keyboard_focus = true
  animate_manual_resizes = false
  enable_swallow = true
  swallow_regex =
  focus_on_activate = true

  # https://wiki.hyprland.org/Configuring/Performance/#how-do-i-make-hyprland-draw-as-little-power-as-possible-on-my-laptop
  vfr = true
}

########################################### WINDOW RULES #######################################


########################################### KEYBINDINGS #######################################

bind=$mainMod,Return,exec,$terminal
bind=$mainMod,Q,killactive,
bind=$mainMod,V,togglefloating,
bind=$mainMod,F,fullscreen,0

# Move focus with mainMod + hjkl
bind=$mainMod,h,movefocus,l
bind=$mainMod,l,movefocus,r
bind=$mainMod,k,movefocus,u
bind=$mainMod,j,movefocus,d

# move window in current workspace
bind=$mainMod SHIFT,h,movewindow,l
bind=$mainMod SHIFT,l,movewindow,r
bind=$mainMod SHIFT,k,movewindow,u
bind=$mainMod SHIFT,j,movewindow,d

# Switch workspaces with mainMod + [0-9]
bind=$mainMod,1,workspace,1
bind=$mainMod,2,workspace,2
bind=$mainMod,3,workspace,3
bind=$mainMod,4,workspace,4
bind=$mainMod,5,workspace,5

# control volume,brightness,media players
bind=,XF86AudioRaiseVolume,exec, pamixer -i 5
bind=,XF86AudioLowerVolume,exec, pamixer -d 5
bind=,XF86AudioMute,exec, pamixer -t
bind=,XF86AudioMicMute,exec, pamixer --default-source -t
bind=,XF86MonBrightnessDown,exec,brightnessctl set 5%-
bind=,XF86MonBrightnessUp,exec,brightnessctl set +5%
bind=,XF86AudioPlay,exec, mpc -q toggle 
bind=,XF86AudioNext,exec, mpc -q next 
bind=,XF86AudioPrev,exec, mpc -q prev
